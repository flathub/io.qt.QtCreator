app-id: io.qt.QtCreator
runtime: org.kde.Sdk
runtime-version: '5.15'
sdk: org.kde.Sdk
sdk-extensions:
  - org.freedesktop.Sdk.Extension.openjdk
command: qtcreator
rename-desktop-file: org.qt-project.qtcreator.desktop
rename-appdata-file: org.qt-project.qtcreator.appdata.xml
rename-icon: QtProject-qtcreator
finish-args:
  - --share=ipc
  - --share=network
  - --socket=wayland
  - --socket=fallback-x11
  - --filesystem=host
  - --device=dri
  - --env=PATH=/app/bin:/app/jre/bin:/app/jdk/bin:/usr/bin
build-options:
  append-ld-library-path: /app/lib
  no-debuginfo: true
modules:
  - name: clang
    buildsystem: cmake-ninja
    subdir: llvm
    builddir: true
    config-opts:
      - -DCMAKE_BUILD_TYPE=MinSizeRel
      - -DLLVM_ENABLE_RTTI=ON
      - -DLLVM_ENABLE_PROJECTS=clang;clang-tools-extra
      - -DLLVM_INCLUDE_DOCS=OFF
      - -DLLVM_INCLUDE_TESTS=OFF
      - -DLLVM_INCLUDE_EXAMPLES=OFF
      - -DLLVM_INCLUDE_BENCHMARKS=OFF
      - -DLLVM_ENABLE_BINDINGS=OFF
      - -DLLVM_INSTALL_UTILS=OFF
      - -DLLVM_ENABLE_UNWIND_TABLES=OFF
      - -DLLVM_TARGETS_TO_BUILD=host
      - -DLLVM_PARALLEL_LINK_JOBS=1
      - -Wno-dev
    sources:
      - type: git
        url: https://code.qt.io/clang/llvm-project.git
        branch: release_110-based
  - name: qt-base
    buildsystem: cmake-ninja
    builddir: true
    config-opts:
      - -DQT_BUILD_EXAMPLES=ON
      - -DQT_BUILD_TESTS=OFF
    sources:
      - type: git
        url: git://code.qt.io/qt/qtbase.git
        tag: v6.1.2
        x-checker-data:
          type: anitya
          project-id: 7927
          tag-template: v$version
          stable-only: true
        commit: 4dcedb8ca4ae0c9c533997074098297abbfcf1c3
  - name: qt-declarative
    buildsystem: cmake-ninja
    builddir: true
    config-opts:
      - -DQT_BUILD_EXAMPLES=ON
      - -DQT_BUILD_TESTS=OFF
    sources:
      - type: git
        url: git://code.qt.io/qt/qtdeclarative.git
        tag: v6.1.2
        x-checker-data:
          type: anitya
          project-id: 7927
          tag-template: v$version
          stable-only: true
        commit: c450bddebad1bef9952c17da3a6d4980c012ab97
  - name: qt-tools
    buildsystem: cmake-ninja
    builddir: true
    config-opts:
      - -DCMAKE_PREFIX_PATH=/app
      - -DQT_BUILD_EXAMPLES=ON
      - -DQT_BUILD_TESTS=OFF
    sources:
      - type: git
        url: git://code.qt.io/qt/qttools.git
        tag: v6.1.2
        x-checker-data:
          type: anitya
          project-id: 7927
          tag-template: v$version
          stable-only: true
        commit: 9cfbb98844d63809ef446f7c2e2d16e258227b6a
  - name: qt-base-docs
    buildsystem: simple
    builddir: true
    build-commands:
      - mkdir build
      - cd build && cmake -G Ninja .. -DCMAKE_INSTALL_PREFIX=/app -DCMAKE_PREFIX_PATH=/app
        -DQT_BUILD_EXAMPLES=ON -DQT_BUILD_TESTS=OFF
      - cd build && ninja docs
      - cd build && ninja install_docs
      - cp -rn examples/aggregate /app/doc/qtbase/
      - cp -rn examples/corelib /app/doc/qtcore/
      - cp -rn examples/dbus /app/doc/qtdbus/
      - cp -rn examples/embedded /app/doc/qtbase/
      - cp -rn examples/gui /app/doc/qtgui/
      - cp -rn examples/network /app/doc/qtnetwork/
      - cp -rn examples/opengl /app/doc/qtopengl/
      - cp -rn examples/qmake /app/doc/qtbase/
      - cp -rn examples/qpa /app/doc/qtbase/
      - cp -rn examples/qtconcurrent /app/doc/qtconcurrent/
      - cp -rn examples/qtestlib /app/doc/qttestlib/
      - cp -rn examples/sql /app/doc/qtsql/
      - cp -rn examples/vulkan /app/doc/qtgui/
      - cp -rn examples/widgets /app/doc/qtwidgets/
      - cp -rn examples/xml /app/doc/qtxml/
    sources:
      - type: git
        url: git://code.qt.io/qt/qtbase.git
        tag: v6.1.2
        x-checker-data:
          type: anitya
          project-id: 7927
          tag-template: v$version
          stable-only: true
        commit: 4dcedb8ca4ae0c9c533997074098297abbfcf1c3
  - name: qt-declarative-docs
    buildsystem: simple
    builddir: true
    build-commands:
      - mkdir build
      - cd build && cmake -G Ninja .. -DCMAKE_INSTALL_PREFIX=/app -DCMAKE_PREFIX_PATH=/app
        -DQT_BUILD_EXAMPLES=ON -DQT_BUILD_TESTS=OFF
      - cd build && ninja docs
      - cd build && ninja install_docs
      - cp -rn examples/qml /app/doc/qtqml/
      - cp -rn examples/qmltest /app/doc/qtdeclarative/
      - cp -rn examples/quick /app/doc/qtquick/
    sources:
      - type: git
        url: git://code.qt.io/qt/qtdeclarative.git
        tag: v6.1.2
        x-checker-data:
          type: anitya
          project-id: 7927
          tag-template: v$version
          stable-only: true
        commit: c450bddebad1bef9952c17da3a6d4980c012ab97
  - name: qt-tools-docs
    buildsystem: simple
    builddir: true
    build-commands:
      - mkdir build
      - cd build && cmake -G Ninja .. -DCMAKE_INSTALL_PREFIX=/app -DCMAKE_PREFIX_PATH=/app
        -DQT_BUILD_EXAMPLES=ON -DQT_BUILD_TESTS=OFF
      - cd build && ninja docs
      - cd build && ninja install_docs
      - cp -rn examples/assistant /app/doc/qtassistant/
      - cp -rn examples/designer /app/doc/qtdesigner/
      - cp -rn examples/help /app/doc/qthelp/
      - cp -rn examples/linguist /app/doc/qtlinguist/
      - cp -rn examples/uitools /app/doc/qtuitools/
    sources:
      - type: git
        url: git://code.qt.io/qt/qttools.git
        tag: v6.1.2
        x-checker-data:
          type: anitya
          project-id: 7927
          tag-template: v$version
          stable-only: true
        commit: 9cfbb98844d63809ef446f7c2e2d16e258227b6a
  - name: qt-doc
    buildsystem: cmake-ninja
    builddir: true
    build-commands:
      - ninja docs
      - ninja install_docs
      - cp -rn ../examples/demos /app/doc/qtdoc/
      - cp -rn ../examples/tutorials /app/doc/qtdoc/
    config-opts:
      - -DQT_BUILD_EXAMPLES=ON
      - -DQT_BUILD_TESTS=OFF
    sources:
      - type: git
        url: git://code.qt.io/qt/qtdoc.git
        tag: v6.1.2
        x-checker-data:
          type: anitya
          project-id: 7927
          tag-template: v$version
          stable-only: true
        commit: 3b3f5d5f3b073cf26ef4a9c31b50dd04fae90910
  - name: qt-translations
    buildsystem: cmake-ninja
    builddir: true
    config-opts:
      - -Wno-dev
    sources:
      - type: git
        url: git://code.qt.io/qt/qttranslations.git
        tag: v6.1.2
        x-checker-data:
          type: anitya
          project-id: 7927
          tag-template: v$version
          stable-only: true
        commit: 644a26b480922d53f13bfe553c22ef14c46512da
  - name: qt-qt5compat
    buildsystem: cmake-ninja
    builddir: true
    build-commands:
      - ninja docs
      - ninja install_docs
      - cp -rn ../examples/core5/ /app/doc/qt5compat/
    config-opts:
      - -DQT_BUILD_EXAMPLES=ON
      - -DQT_BUILD_TESTS=OFF
    sources:
      - type: git
        url: git://code.qt.io/qt/qt5compat.git
        tag: v6.1.2
        x-checker-data:
          type: anitya
          project-id: 7927
          tag-template: v$version
          stable-only: true
        commit: 03302321ac6a9bbb292974e93bb8093b9df37f07
  - name: qt-activeqt
    buildsystem: cmake-ninja
    builddir: true
    build-commands:
      - ninja docs
      - ninja install_docs
      - cp -rn ../examples/activeqt/ /app/doc/activeqt/
    config-opts:
      - -DQT_BUILD_EXAMPLES=ON
      - -DQT_BUILD_TESTS=OFF
    sources:
      - type: git
        url: git://code.qt.io/qt/qtactiveqt.git
        tag: v6.1.2
        x-checker-data:
          type: anitya
          project-id: 7927
          tag-template: v$version
          stable-only: true
        commit: a0d3e45088e811e2c58d810077d029fa54c0b683
  - name: qt-qtcharts
    buildsystem: cmake-ninja
    builddir: true
    build-commands:
      - ninja docs
      - ninja install_docs
      - cp -rn ../examples/charts/ /app/doc/qtcharts/
    config-opts:
      - -DQT_BUILD_EXAMPLES=ON
      - -DQT_BUILD_TESTS=OFF
    sources:
      - type: git
        url: git://code.qt.io/qt/qtcharts.git
        tag: v6.1.2
        x-checker-data:
          type: anitya
          project-id: 7927
          tag-template: v$version
          stable-only: true
        commit: 33316596d2ee29386d9bc207d7677ef2f6b6e55c
  - name: qt-coap
    buildsystem: cmake-ninja
    builddir: true
    build-commands:
      - ninja docs
      - ninja install_docs
      - cp -rn ../examples/coap/ /app/doc/qtcoap/
    config-opts:
      - -DQT_BUILD_EXAMPLES=ON
      - -DQT_BUILD_TESTS=OFF
    sources:
      - type: git
        url: git://code.qt.io/qt/qtcoap.git
        tag: v6.1.2
        x-checker-data:
          type: anitya
          project-id: 7927
          tag-template: v$version
          stable-only: true
        commit: 4074e4a3779a6c2bcfde6976ee152b9bfd973b73
  - name: qt-imageformats
    buildsystem: cmake-ninja
    builddir: true
    config-opts:
      - -DQT_BUILD_TESTS=OFF
    sources:
      - type: git
        url: git://code.qt.io/qt/qtimageformats.git
        tag: v6.1.2
        x-checker-data:
          type: anitya
          project-id: 7927
          tag-template: v$version
          stable-only: true
        commit: 294ea163fd02d0859ecbbf02f73af01280b66202
  - name: qt-lottie
    buildsystem: cmake-ninja
    builddir: true
    config-opts:
      - -DQT_BUILD_TESTS=OFF
    sources:
      - type: git
        url: git://code.qt.io/qt/qtlottie.git
        tag: v6.1.2
        x-checker-data:
          type: anitya
          project-id: 7927
          tag-template: v$version
          stable-only: true
        commit: 6259a405c1b0b75f9070c0a8db36e19bfe14c03b
  - name: qt-mqtt
    buildsystem: cmake-ninja
    builddir: true
    build-commands:
      - ninja docs
      - ninja install_docs
      - cp -rn ../examples/mqtt/ /app/doc/qtmqtt/
    config-opts:
      - -DQT_BUILD_EXAMPLES=ON
      - -DQT_BUILD_TESTS=OFF
    sources:
      - type: git
        url: git://code.qt.io/qt/qtmqtt.git
        tag: v6.1.2
        x-checker-data:
          type: anitya
          project-id: 7927
          tag-template: v$version
          stable-only: true
        commit: 0bc4b3f0132be9024b0f90cebe5a69a1da796a91
  - name: qt-networkauth
    buildsystem: cmake-ninja
    builddir: true
    build-commands:
      - ninja docs
      - ninja install_docs
      - cp -rn ../examples/oauth/ /app/doc/qtnetworkauth/
    config-opts:
      - -DQT_BUILD_EXAMPLES=ON
      - -DQT_BUILD_TESTS=OFF
    sources:
      - type: git
        url: git://code.qt.io/qt/qtnetworkauth.git
        tag: v6.1.2
        x-checker-data:
          type: anitya
          project-id: 7927
          tag-template: v$version
          stable-only: true
        commit: ccad8f5cd0c11dedf9f79bec6a4e78019a053b21
  - name: qt-opcua
    buildsystem: cmake-ninja
    builddir: true
    build-commands:
      - ninja docs
      - ninja install_docs
      - cp -rn ../examples/opcua/ /app/doc/qtopcua/
    config-opts:
      - -DQT_BUILD_EXAMPLES=ON
      - -DQT_BUILD_TESTS=OFF
    sources:
      - type: git
        url: git://code.qt.io/qt/qtopcua.git
        tag: v6.1.2
        x-checker-data:
          type: anitya
          project-id: 7927
          tag-template: v$version
          stable-only: true
        commit: 4d28a338ba63bccb0997d84eefe362f9dde2d57e
  - name: qt-3d
    buildsystem: cmake-ninja
    builddir: true
    config-opts:
      - -DQT_BUILD_EXAMPLES=OFF
      - -DQT_BUILD_TESTS=OFF
    sources:
      - type: git
        url: git://code.qt.io/qt/qt3d.git
        tag: v6.1.2
        x-checker-data:
          type: anitya
          project-id: 7927
          tag-template: v$version
          stable-only: true
        commit: aa0e77766862cbc5f9c79e0268f9d900687034a4
  - name: qt-datavis3d
    buildsystem: cmake-ninja
    builddir: true
    build-commands:
      - ninja docs
      - ninja install_docs
      - cp -rn ../examples/datavisualization/ /app/doc/qtdatavis3d/
    config-opts:
      - -DQT_BUILD_EXAMPLES=ON
      - -DQT_BUILD_TESTS=OFF
    sources:
      - type: git
        url: git://code.qt.io/qt/qtdatavis3d.git
        tag: v6.1.2
        x-checker-data:
          type: anitya
          project-id: 7927
          tag-template: v$version
          stable-only: true
        commit: 29ec6342dd4d2145ec62e03224ee71e96f8f808e
  - name: qt-shadertools
    buildsystem: cmake-ninja
    builddir: true
    config-opts:
      - -DQT_BUILD_TESTS=OFF
    sources:
      - type: git
        url: git://code.qt.io/qt/qtshadertools.git
        tag: v6.1.2
        x-checker-data:
          type: anitya
          project-id: 7927
          tag-template: v$version
          stable-only: true
        commit: 771b613bd9daffc7b864796b3bf22b4bc2fbf24b
  - name: qt-quick3d
    buildsystem: cmake-ninja
    builddir: true
    build-commands:
      - ninja docs
      - ninja install_docs
      - cp -rn ../examples/quick3d/ /app/doc/qtquick3d/
    config-opts:
      - -DQT_BUILD_EXAMPLES=ON
      - -DQT_BUILD_TESTS=OFF
    sources:
      - type: git
        url: git://code.qt.io/qt/qtquick3d.git
        tag: v6.1.2
        x-checker-data:
          type: anitya
          project-id: 7927
          tag-template: v$version
          stable-only: true
        commit: 3eca5f49555bf2c37bbe071a2f8b4d6b1a973d1c
  - name: qt-quickcontrols2
    buildsystem: cmake-ninja
    builddir: true
    build-commands:
      - ninja docs
      - ninja install_docs
      - cp -rn ../examples/quickcontrols2/ /app/doc/qtquickcontrols/
    config-opts:
      - -DQT_BUILD_EXAMPLES=ON
      - -DQT_BUILD_TESTS=OFF
    sources:
      - type: git
        url: git://code.qt.io/qt/qtquickcontrols2.git
        tag: v6.1.2
        x-checker-data:
          type: anitya
          project-id: 7927
          tag-template: v$version
          stable-only: true
        commit: 5ae33c6ad2b89caae80008e805ffcca0aadd5521
  - name: qt-quicktimeline
    buildsystem: cmake-ninja
    builddir: true
    config-opts:
      - -DQT_BUILD_TESTS=OFF
    sources:
      - type: git
        url: git://code.qt.io/qt/qtquicktimeline.git
        tag: v6.1.2
        x-checker-data:
          type: anitya
          project-id: 7927
          tag-template: v$version
          stable-only: true
        commit: 6ade59c3b503da4fe2e81733c557674aea79caef
  - name: qt-scxml
    buildsystem: cmake-ninja
    build-commands:
      - ninja docs
      - ninja install_docs
      - cp -rn ../examples/scxml/ /app/doc/qtscxml/
      - cp -rn ../examples/statemachine /app/doc/qtstatemachine/
    builddir: true
    config-opts:
      - -DQT_BUILD_EXAMPLES=ON
      - -DQT_BUILD_TESTS=OFF
    sources:
      - type: git
        url: git://code.qt.io/qt/qtscxml.git
        tag: v6.1.2
        x-checker-data:
          type: anitya
          project-id: 7927
          tag-template: v$version
          stable-only: true
        commit: fb6b7d4dc0deccf3564134fe09e08e847da27172
  - name: qt-svg
    buildsystem: cmake-ninja
    builddir: true
    build-commands:
      - ninja docs
      - ninja install_docs
      - cp -rn ../examples/svg/ /app/doc/qtsvg/
    config-opts:
      - -DQT_BUILD_EXAMPLES=ON
      - -DQT_BUILD_TESTS=OFF
    sources:
      - type: git
        url: git://code.qt.io/qt/qtsvg.git
        tag: v6.1.2
        x-checker-data:
          type: anitya
          project-id: 7927
          tag-template: v$version
          stable-only: true
        commit: 4fed9a17ed7617cb6865d4aa6e5b6de32dcf673b
  - name: qt-wayland
    buildsystem: cmake-ninja
    builddir: true
    build-commands:
      - ninja docs
      - ninja install_docs
      - cp -rn ../examples/wayland/ /app/doc/qtwaylandcompositor/
    config-opts:
      - -DQT_BUILD_EXAMPLES=ON
      - -DQT_BUILD_TESTS=OFF
    sources:
      - type: git
        url: git://code.qt.io/qt/qtwayland.git
        tag: v6.1.2
        x-checker-data:
          type: anitya
          project-id: 7927
          tag-template: v$version
          stable-only: true
        commit: 86625613081b06607ca2532fa3652ce4c5e1823d
  - name: qt-virtualkeyboard
    buildsystem: cmake-ninja
    builddir: true
    build-commands:
      - ninja docs
      - ninja install_docs
      - cp -rn ../examples/virtualkeyboard/ /app/doc/qtvirtualkeyboard/
    config-opts:
      - -DQT_BUILD_EXAMPLES=ON
      - -DQT_BUILD_TESTS=OFF
    sources:
      - type: git
        url: git://code.qt.io/qt/qtvirtualkeyboard.git
        tag: v6.1.2
        x-checker-data:
          type: anitya
          project-id: 7927
          tag-template: v$version
          stable-only: true
        commit: 524720e38157049826c67aa05ecbc22d460537db
  - name: qt-creator
    buildsystem: cmake-ninja
    config-opts:
      - -DCMAKE_PREFIX_PATH=/app
      - -DCMAKE_BUILD_TYPE=Release
      - -Wno-dev
    sources:
      - type: git
        url: https://code.qt.io/qt-creator/qt-creator.git
        tag: v5.0.0
        x-checker-data:
          type: anitya
          project-id: 4136
          tag-template: v$version
          stable-only: true
        commit: 72536eb1555db00723dfbd72c80c940ccabfb2b3
      - type: patch
        path: 0001.patch
      - type: patch
        path: 0002.patch
  - name: openjdk
    buildsystem: simple
    build-commands:
      - cd /usr/lib/sdk/openjdk/jvm/openjdk-16 && cp -ra bin conf include jmods lib
        release /app
  - name: clazy
    buildsystem: cmake-ninja
    config-opts:
      - -DCMAKE_BUILD_TYPE=Release
      - -DLINK_CLAZY_TO_LLVM=OFF
      - -DCLAZY_MAN_PAGE=OFF
    sources:
      - type: git
        url: https://invent.kde.org/sdk/clazy.git
        tag: v1.10
        x-checker-data:
          type: anitya
          project-id: 14862
          tag-template: v$version
          stable-only: true
        commit: fca73257a803dd8d0524e2e0d6927733c500be78
    cleanup:
      - /share/doc/clazy/
      - /bin/clazy
cleanup:
  - /include/llvm
  - /include/clang
  - /include/llvm-c
  - /share/clang
  - /lib/clang
  - /lib/cmake/llvm
  - /lib/libclang*.a
  - /lib/libLLVM*.a
  - /bin/diagtool
  - /bin/llvm*
  - /bin/git-clang-format
  - /bin/c-index-test
  - /bin/scan-build
  - /libexec/ccc-analyzer
  - /libexec/c++-analyzer
  - /share/man
  - /share/scan-build
  - /bin/scan-view
  - /share/scan-view
  - /bin/modularize
  - /include/clang-tidy
  - /lib/libfindAllSymbols.a
  - /bin/find-all-symbols
  - /bin/pp-trace
  - /include/clang-c
  - /bin/hmaptool
  - /bin/bugpoint
  - /bin/dsymutil
  - /bin/llc
  - /bin/lli
  - /bin/obj2yaml
  - /bin/opt
  - /share/opt-viewer
  - /bin/sancov
  - /bin/sanstats
  - /bin/verify-uselistorder
  - /bin/yaml2obj
  - /lib/cmake/clang
  - /bin/clang
  - /bin/clang++
  - /bin/clang-11
  - /bin/clang-apply-replacements
  - /bin/clang-change-namespace
  - /bin/clang-check
  - /bin/clang-cl
  - /bin/clang-cpp
  - /bin/clangd
  - /bin/clang-doc
  - /bin/clang-extdef-mapping
  - /bin/clang-format
  - /bin/clang-include-fixer
  - /bin/clang-move
  - /bin/clang-offload-bundler
  - /bin/clang-offload-wrapper
  - /bin/clang-query
  - /bin/clang-refactor
  - /bin/clang-rename
  - /bin/clang-reorder-fields
  - /bin/clang-scan-deps
cleanup-commands:
  - /app/libexec/qtcreator/sdktool addQt --id qt6 --name Qt6 --qmake /app/bin/qmake
    --type Qt4ProjectManager.QtVersion.Desktop
  - /app/libexec/qtcreator/sdktool addQt --id qt5 --name Qt5 --qmake /usr/bin/qmake
    --type Qt4ProjectManager.QtVersion.Desktop
  - /app/libexec/qtcreator/sdktool addKit --id qt6 --name Qt6 --devicetype Desktop
    --device "Desktop Device" --qt qt6
  - /app/libexec/qtcreator/sdktool addKit --id qt5 --name Qt5 --devicetype Desktop
    --device "Desktop Device" --qt qt5
